--(c) Nvirjskly 2013
--


RedObj = {}
--RedObj.__index = RedObj

function RedObj:new() 
	inst = {}
	--setmetatable(inst, RedObj)
	setmetatable(inst, self)
	self.__index = self
	inst.st = false;
	return inst
end



--Returns the state of the redstone
function RedObj:state() 
	return st;
end

function RedObj:display()
	term.setBackgroundColor(colors.black)
	if self.state() then term.setTextColor(colors.red) else term.setTextColor(colors.white) end
	term.write("+")
end

RedTorch = RedObj:new()

RedTorch.__index = RedTorch

function RedTorch:state()
	st = true
	return true
end

function RedTorch:display()
	term.setBackgroundColor(colors.white)
	term.setTextColor(colors.red)
	term.write("O")
end








--TEST
torch = RedTorch:new()
local circuit = {torch}

--Display the Circuit

function ctDisplay()
	term.clear()
	term.setCursorPos(1,1)
	torch:display()
end



--main loop

function globalTicks()
	return os.time() * 1000
end

while 1 do
	startTicks = globalTicks()
	
	--do stuff
	ctDisplay()
	
	while globalTicks() == startTicks do
		sleep(0.01)
	end	
end